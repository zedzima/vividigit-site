<!-- Cards Block: Icon cards in responsive grid -->
<section class="cards-block">
    <span class="tag tag-accent">{{ data.tag | default(block_type) }}</span>

    {% if data.title %}
    <h2>{{ data.title }}</h2>
    {% endif %}

    {% if data.subtitle %}
    <p class="cards-subtitle">{{ data.subtitle }}</p>
    {% endif %}

    {% set card_list = data.cards %}
    {% if card_list %}
    <div class="cards-grid {% if data.columns %}cards-cols-{{ data.columns }}{% endif %}">
        {% for card in card_list %}
        {% if card.url %}
        <a href="{{ card.url.lstrip('/') }}" class="cards-item cards-link">
        {% else %}
        <div class="cards-item">
        {% endif %}
            {% if card.flag %}
            <span class="cards-icon cards-flag">{{ card.flag }}</span>
            {% elif card.code %}
            <span class="cards-icon cards-code">{{ card.code }}</span>
            {% elif card.icon %}
            <span class="cards-icon">{% if card.icon | length > 2 %}{{ icon(card.icon, 28) }}{% else %}{{ card.icon }}{% endif %}</span>
            {% endif %}
            <h3>{{ card.title }}</h3>
            <p>{{ card.text or card.description }}</p>
            {% if card.badge %}
            <span class="cards-badge">{{ card.badge }}</span>
            {% endif %}
        {% if card.url %}
        </a>
        {% else %}
        </div>
        {% endif %}
        {% endfor %}
    </div>
    {% endif %}
</section>
